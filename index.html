<!DOCTYPE html>
<html>
<head>
	<title>Assigment 10: API Fun</title>
	<meta charset="utf-8"/>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">
		function get() {
			var request = new XMLHttpRequest();
			//Debugging statement from get_weather_ajax - posted.html
			console.log("Step 1 - request object created");

			request.open("GET", "https://api.first.org/data/v1/countries", true); 
			//Debugging statement from get_weather_ajax - posted.html
			console.log("Step 2 - opened request file"); 

			request.onreadystatechange = function() {
				//Debugging statement from get_weather_ajax - posted.html
				console.log("Step 3 - readystatechange event fired."); 

				if (request.readyState == 4 && request.status == 200) {
					//Debugging statement from get_weather_ajax - posted.html
					console.log("Step 5 - response received"); 

					var result = request.responseText; 
					var cities = JSON.parse(result); 
					document.getElementByID("data").innerHTML = "hello world"; 
				}
				else if (request.readyState == 4 && request.status != 200) {
					document.getElementByID("data").innerHTML = "hello world";
				}
				else if (request.readyState == 3) {
					document.getElementByID("data").innerHTML = "API unreachable";
				} 

			}
			request.send(); 
			//Debugging statement from get_weather_ajax - posted.html
			console.log("Step 4 - request sent"); 
		}



	</script>

</head>
<body onload="get()">

	<div id="data"></div>


	<h1>Questions:</h1>
	<h2>Describe the API you selected and what it does</h2>
	<p>The API I selected provides a JSON list of countries and their abbreviations.</p>
	<h2>Describe the options you used for the API request</h2>
	<p>For this API request, I used the "GET" method.</p>
	<h2>Give two applications where it would be helpful</h2>
	<p>This application would be helpful in the contexts that require countries and their abbreviations. For example this API would be useful on travel websites and would prevent a devleoper from implementing an array directly in the script. By importing this API, the web page would be far more efficient along with the coding process.. </p>
	<h2>Cite the website and where you found it</h2>
	<p>Website: https://api.first.org/v1/get-countries</p>
</body>
</html>